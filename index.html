<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Canal Cruise & Amsterdam Light Festival 27 nov 2025 - 18 jan 2026 – met verse soep en glühwein. Boek direct via WhatsApp." />
  <!-- Open Graph / WhatsApp / Facebook -->
  <meta property="og:title" content="Canal Cruise & Light Festival 27 nov 2025 - 18 jan 2026" />
  <meta property="og:description" content="Gezellig met verse soep en glühwein · Jij regelt de mensen, wij de rest · Boek direct via WhatsApp." />
  <meta property="og:image" content="alf25-share.png" />
  <meta property="og:url" content="https://matthijshart.github.io/AmsterdamLightFestival/" />
  <meta property="og:type" content="website" />

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="A.L.F.25 – Canal Cruise & Light Festival" />
  <meta name="twitter:description" content="Gezellig met verse soep, glühwein en warme dekens · Jij regelt de mensen, wij de rest · Boek direct via WhatsApp." />
  <meta name="twitter:image" content="https://matthijshart.github.io/AmsterdamLightFestival/public/share/alf25-share.png" />
  <title>A.L.F.25 – Canal Cruise & Light Festival</title>

  <link rel="icon" type="image/svg+xml" href="logo_with_spacing.svg" />
  <link rel="mask-icon" href="logo_with_spacing.svg" color="#0ea5e9" />

  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind config (minimal accent color)
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            accent: {
              DEFAULT: '#0ea5e9', // sky-500
              600: '#0284c7'
            }
          }
        }
      }
    }
  </script>

  <!-- Swiper (CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <style>
    :root {
      --sticky-header: 64px;
      --extra-gap: 12px;
    }

    html {
      scroll-padding-top: calc(var(--sticky-header) + var(--extra-gap));
    }

    #booking {
      scroll-margin-top: calc(var(--sticky-header) + var(--extra-gap));
    }

    /* Smooth image rendering */
    img {
      image-rendering: -webkit-optimize-contrast;
    }

    /* Hero scroll indicator */
    .scroll-indicator {
      position: absolute;
      bottom: calc(1.5rem + env(safe-area-inset-bottom));
      left: 50%;
      transform: translateX(-50%);
      font-size: 2rem;
      color: rgba(255, 255, 255, 0.8);
      text-shadow: 0 4px 12px rgba(0, 0, 0, 0.35);
      pointer-events: none;
      z-index: 10;
    }

    .scroll-indicator .chevron {
      display: inline-block;
      opacity: 0.85;
      animation: bounce 1.8s infinite;
      transform: translateY(0) rotate(90deg);
    }

    @keyframes bounce {
      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0) rotate(90deg);
      }
      40% {
        transform: translateY(8px) rotate(90deg);
      }
      60% {
        transform: translateY(4px) rotate(90deg);
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .scroll-indicator .chevron {
        animation: none;
        transform: rotate(90deg);
      }
    }

    /* Hero pagination adjustments */

    #hero {
      --hero-pagination-offset: clamp(9rem, 20vh, 13rem);
    }


    #hero .swiper {
      position: relative;
    }

    #hero .swiper-pagination {
      position: absolute;

     
     bottom: 400px;
      left: 50%;
      transform: translateX(-50%);

     
     bottom: 400px;
      left: 50%;
      transform: translate(-50%, calc(-50% - 6rem));

      width: auto;
      display: flex;
      gap: 0.75rem;
      z-index: 30;
    }

    #hero .swiper-pagination-bullet {
      width: 14px;
      height: 14px;
      margin: 0;
      border-radius: 9999px;
      opacity: 1;
      background-color: rgba(255, 255, 255, 0.65);
      transition: transform 0.3s ease, background-color 0.3s ease;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
    }

    #hero .swiper-pagination-bullet-active {
      background-color: #fff;
      transform: scale(1.25);
      box-shadow: 0 8px 22px rgba(0, 0, 0, 0.35);
    }

    @media (max-width: 640px) {

      #hero {
        --hero-pagination-offset: clamp(7rem, 18vh, 11rem);
      }

      #hero .swiper-pagination {

      #hero .swiper-pagination {
        transform: translate(-50%, calc(-50% - 4.5rem));

        gap: 0.5rem;
      }

      #hero .swiper-pagination-bullet {
        width: 12px;
        height: 12px;
      }
    }
  </style>
</head>
<body class="bg-white text-black antialiased">
  <!-- Announcement bar -->
   <div id="top-announcement" class="w-full bg-emerald-200 text-black/80 text-center text-xs py-1.5 fixed top-0 z-50">

    Bij regen: kosteloos verplaatsen
  </div>
  <!-- Sticky top nav -->
  <header class="sticky top-[28px] z-40 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-black/5">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <a href="#hero" class="flex flex-col items-start font-semibold tracking-tight">
        <div class="flex items-center gap-2 text-xl">
          <img
            src="logo_with_spacing.svg"
            alt="A.L.F.25 logo"
            class="h-9 w-auto"
            decoding="async"
          />
          <span>A.L.F.25</span>
        </div>
        <!-- Nieuw: periode onder ALF25 -->
        <span class="text-sm text-black/70">27 nov – 18 jan</span>
      </a>
      <nav class="flex items-center gap-3">
        <a
          id="nav-books-link"
          href="#booking"
          class="hidden md:inline-block text-sm hover:underline"
        >
          Boeken
        </a>
        <a
          id="nav-whatsapp-book"
          href="#booking"
          class="inline-flex items-center rounded-2xl bg-black px-4 py-2 text-white text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black"
        >WhatsApp boeken</a>
      </nav>
    </div>
  </header>

  <!-- Hero with autoslideshow + per-slide overlays -->
  <section id="hero" class="relative">
    <div class="swiper h-[80vh]">
      <div class="swiper-wrapper">
        <!-- 1 -->
        <div class="swiper-slide relative">
          <img src="public/images/vrienden-amsterdamse-grachtenboot.png" alt="Privé boottocht tijdens Amsterdam Light Festival - 27 nov tm 18 jan" class="w-full h-full object-cover" loading="eager" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h1 class="text-3xl md:text-5xl font-bold text-white">Privé boottocht · Amsterdam Light Festival</h1>
              <p class="mt-2 text-lg text-white/90">Exclusief voor jouw groep · 6-11 personen</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 2 -->
        <div class="swiper-slide relative">
          <img src="Vrienden_op_boot_liggend_crop.png" alt="Sfeervolle avondvaart" class="w-full h-full object-cover" loading="lazy" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">Intiem, gezellig, écht Amsterdams</h2>
              <p class="mt-2 text-lg text-white/90">Kleine groepen · geen massatoerisme</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 3 -->
        <div class="swiper-slide relative">
          <img src="public/images/Solstice_ArtistImpression_ALF13.jpg" alt="Lichtkunst Solstice" class="w-full h-full object-cover" loading="lazy" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">Warme dekens, glühwein &amp; erwtensoep</h2>
              <p class="mt-2 text-lg text-white/90">Geniet met vrienden van lichtkunst op de grachten</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 4 -->
        <div class="swiper-slide relative">
          <img src="public/images/de-sculpturen-boven-de-herengracht-zijn-gemaakt-van-gevlochten.webp" alt="Sculpturen Herengracht" class="w-full h-full object-cover" loading="lazy" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">€59,95 p.p. all-in · 90 min</h2>
              <p class="mt-2 text-lg text-white/90">Starttijden 17:30 – 19:00 · 19:30 – 21:00</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 5 -->
        <div class="swiper-slide relative">
          <img src="public/images/amsterdam-light-festival-2021-route.jpg" alt="Route Amsterdam Light Festival" class="w-full h-full object-cover" loading="lazy" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">Met schipper én hostess aan boord</h2>
              <p class="mt-2 text-lg text-white/90">Iedereen verzorgd met drankjes &amp; soep</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 6 -->
        <div class="swiper-slide relative">
          <img src="public/images/PB22janthumbnail.jpg" alt="Comfort aan boord" class="w-full h-full object-cover" loading="lazy" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">Comfort aan boord</h2>
              <p class="mt-2 text-lg text-white/90">Kussens, speakers en grote borreltafel</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 7 -->
        <div class="swiper-slide relative">
          <img src="public/images/alf.jpg.webp" alt="Boek via WhatsApp" class="w-full h-full object-cover" loading="lazy" />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">Boek direct via WhatsApp</h2>
              <p class="mt-2 text-lg text-white/90">Snel vol — reserveer je plek vandaag</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
        <!-- 8 -->
        <div class="swiper-slide relative">
          <img
            src="public/images/Openboat.jpg"
            alt="Vrienden aan boord van een Amsterdamse grachtenboot tijdens het lichtfestival"
            class="w-full h-full object-cover"
            loading="lazy"
          />
          <div class="absolute inset-0 flex items-center justify-center text-center p-4">
            <div class="bg-black/50 px-6 py-5 rounded-2xl max-w-xl">
              <h2 class="text-3xl md:text-5xl font-bold text-white">27 november t/m 18 januari</h2>
              <p class="mt-2 text-lg text-white/90">Vier het Amsterdam Light Festival met jouw groep</p>
              <a href="#booking" class="mt-6 inline-block rounded-2xl bg-white text-black px-6 py-3 font-semibold">Boek nu</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <div class="swiper-pagination"></div>
    </div>
    <div class="scroll-indicator">
      <span class="sr-only">Scroll verder om meer te ontdekken</span>
      <span aria-hidden="true" class="chevron">&#x276F;</span>
    </div>
  </section>

  <!-- Highlights / USP -->
  <section class="py-16 md:py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <li class="p-6 rounded-2xl ring-1 ring-black/5">
          <p class="text-sm uppercase tracking-wide text-black/60">Capaciteit</p>
          <p class="mt-2 text-xl font-semibold"><span class="whitespace-nowrap">6-11 personen</span></p>
        </li>
        <li class="p-6 rounded-2xl ring-1 ring-black/5">
          <p class="text-sm uppercase tracking-wide text-black/60">Comfort</p>
          <p class="mt-2 text-xl font-semibold">WC aan boord + hostess</p>
        </li>
        <li class="p-6 rounded-2xl ring-1 ring-black/5">
          <p class="text-sm uppercase tracking-wide text-black/60">Sfeer</p>
          <p class="mt-2 text-xl font-semibold">Kussens & speakers</p>
        </li>
        <li class="p-6 rounded-2xl ring-1 ring-black/5">
          <p class="text-sm uppercase tracking-wide text-black/60">Tafel</p>
          <p class="mt-2 text-xl font-semibold">Verse erwtensoep & glühwein</p>
        </li>
      </ul>
    </div>
  </section>

  <!-- Amsterdam Light Festival – Aanbod -->
  <section id="aanbod" class="hidden md:block py-12">
    <div class="mx-auto max-w-4xl px-4">
      <div class="rounded-2xl ring-1 ring-black/5 p-6 md:p-8 bg-white">
        <div class="flex items-center justify-between gap-4 flex-wrap">
          <h2 class="text-2xl md:text-3xl font-semibold">Amsterdam Light Festival – Aanbod</h2>
          <span class="inline-flex items-center rounded-full px-3 py-1 text-sm font-medium bg-black text-white">All-in €59,95 p.p.</span>
        </div>

        <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="rounded-xl bg-neutral-50 p-4 ring-1 ring-black/5">
            <p class="text-sm text-black/60">Duur</p>
            <p class="text-lg font-semibold">90 minuten</p>
          </div>
          <div class="rounded-xl bg-neutral-50 p-4 ring-1 ring-black/5">
            <p class="text-sm text-black/60">Groep</p>
            <p class="text-lg font-semibold">6-11 personen</p>
          </div>
          <div class="rounded-xl bg-neutral-50 p-4 ring-1 ring-black/5">
            <p class="text-sm text-black/60">Periode</p>
            <p class="text-lg font-semibold">27 nov – 18 jan</p>
          </div>
        </div>

      </div>
    </div>
  </section>


  <!-- Gecombineerde sectie: Aanbod + Boekingsaanvraag -->
  <section id="booking" class="py-16 md:py-20 bg-neutral-50">
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-2 gap-12">
      <!-- Info blok (aanbod) -->
      <div>
        <h2 class="text-3xl font-semibold">Boek je Light Festival tocht</h2>
        <span class="inline-block mt-4 rounded-full bg-black text-white px-4 py-1 font-medium">All-in €59,95 p.p.</span>
        <ul class="mt-6 space-y-3 text-lg text-black/80">
          <li class="flex items-start"><span class="mr-3 text-black">•</span> 27 nov t/m 18 jan</li>
          <li class="flex items-start"><span class="mr-3 text-black">•</span> 90 minuten varen</li>
          <li class="flex items-start"><span class="mr-3 text-black">•</span> 6-11 personen</li>
          <li class="flex items-start"><span class="mr-3 text-black">•</span> Tijdsloten:<br>
  • 17:30 – 19:00<br>
  • 19:30 – 21:00
</li>
          <li class="flex items-start"><span class="mr-3 text-black">•</span> Warme glühwein, verse erwtensoep & frisdrank inbegrepen</li>
          <li class="flex items-start"><span class="mr-3 text-black">•</span> Warme dekentjes aan boord</li>
          <li class="flex items-start"><span class="mr-3 text-black">•</span> Met schipper & hostess</li>
        </ul>
      </div>

      <!-- Form blok (boekingsaanvraag) -->
      <div>
        <form id="booking-form" class="grid gap-4 bg-white p-6 rounded-2xl ring-1 ring-black/5" novalidate>
          <div
            id="form-error-summary"
            class="hidden rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"
            role="alert"
            aria-live="polite"
          >
            Controleer de gemarkeerde velden
          </div>

          <div class="flex flex-col gap-1">
            <input class="rounded-xl border border-black/10 px-4 py-3" id="name" name="name" placeholder="Naam*" required>
            <p id="name-error" class="hidden text-sm text-red-600" data-error-for="name">Vul je naam in</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="flex flex-col gap-1">
              <input class="rounded-xl border border-black/10 px-4 py-3" id="date" type="date" name="date" min="2025-11-27" max="2026-01-18" required>
              <p id="date-error" class="hidden text-sm text-red-600" data-error-for="date">Kies een datum</p>
            </div>
            <div class="flex flex-col gap-1">
              <select class="rounded-xl border border-black/10 px-4 py-3" id="time" name="time" required>
                <option value="">Kies tijdslot</option>
                <option>17:30 – 19:00</option>
                <option>19:30 – 21:00</option>
              </select>
              <p id="time-error" class="hidden text-sm text-red-600" data-error-for="time">Kies een tijdslot</p>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="flex flex-col gap-1">
              <input class="rounded-xl border border-black/10 px-4 py-3" id="people" type="number" inputmode="numeric" pattern="[0-9]*" min="6" max="11" name="people" placeholder="Aantal personen*" required>
              <p id="people-error" class="hidden text-sm text-red-600" data-error-for="people">Geef aantal personen op</p>
            </div>
            <div class="flex flex-col gap-1">
              <input class="rounded-xl border border-black/10 px-4 py-3" id="phone" type="tel" inputmode="numeric" pattern="[0-9\\s+]*" name="phone" placeholder="Telefoonnummer*" required>
              <p id="phone-error" class="hidden text-sm text-red-600" data-error-for="phone">Vul een telefoonnummer in</p>
            </div>
          </div>

          <input
            class="rounded-xl border border-black/10 px-4 py-3"
            id="discount"
            name="discount"
            placeholder="Kortingscode (optioneel)">

          <textarea class="rounded-xl border border-black/10 px-4 py-3" id="message" name="message" rows="3" placeholder="Opmerkingen (optioneel)"></textarea>
          <!-- Totaalprijs -->
          <p id="total-price" class="hidden mt-3 text-lg font-semibold text-black"></p>
          <div class="flex flex-wrap gap-3 items-center mt-2">
            <button type="submit" class="rounded-2xl bg-black text-white px-6 py-3 font-semibold">WhatsApp reserveren</button>
          </div>
          <p id="form-feedback" class="mt-3 text-sm text-black/60">Het zit snel vol — stuur je voorkeursdatum en tijdslot mee.</p>
        </form>
      </div>
    </div>
  </section>



 <!-- FAQ -->
<section class="py-16 md:py-20">
  <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
    <h2 class="text-2xl md:text-3xl font-semibold">Veelgestelde vragen</h2>
    <div class="mt-6 space-y-6">

      <details class="group rounded-2xl ring-1 ring-black/5 p-5">
        <summary class="cursor-pointer font-medium">Waar stappen we op?</summary>
        <div class="mt-2 text-black/80">
          Op/afstapplaats in overleg rond het IJ/centrum. We stemmen dit na je boekingsaanvraag af.
        </div>
      </details>

      <details class="group rounded-2xl ring-1 ring-black/5 p-5">
        <summary class="cursor-pointer font-medium">Mogen we eigen drank/eten meenemen?</summary>
        <div class="mt-2 text-black/80">
          Alles is bespreekbaar. Geef je wensen door in je bericht.
          Houd er rekening mee dat aan boord al <strong>verse erwtensoep</strong> en
          <strong>warme glühwein</strong> inbegrepen zijn.
        </div>
      </details>

      <details class="group rounded-2xl ring-1 ring-black/5 p-5">
        <summary class="cursor-pointer font-medium">Is er muziek aan boord?</summary>
        <div class="mt-2 text-black/80">
          Ja, er zijn speakers aanwezig. Je kunt je telefoon koppelen.
        </div>
      </details>

      <details class="group rounded-2xl ring-1 ring-black/5 p-5">
        <summary class="cursor-pointer font-medium">Hoe groot mag de groep zijn?</summary>
        <div class="mt-2 text-black/80">
          Onze privétochten zijn bedoeld voor groepen van 6 t/m 11 personen.<br>
          Het tarief is €59,95 per persoon; we rekenen altijd minimaal zes plaatsen.<br>
          Ben je met minder mensen? Neem gerust contact op, dan kijken we samen naar de mogelijkheden.
        </div>
      </details>

      <details class="group rounded-2xl ring-1 ring-black/5 p-5">
        <summary class="cursor-pointer font-medium">Wat als het regent?</summary>
        <div class="mt-2 text-black/80">
          Bij hevige regen kunt u kosteloos verplaatsen naar een andere datum.<br><br>
          Bovendien hebben wij speciale transparante paraplu’s zodat u ook bij lichte regen
          de luchtkunstwerken droog en goed zichtbaar kunt bekijken.
        </div>
      </details>

    </div>
  </div>
</section>

        
  <!-- Sticky contact bar (mobile) -->
  <div class="fixed inset-x-0 bottom-0 z-40 md:hidden">
    <div class="mx-auto max-w-7xl px-4 pb-4">
      <div class="mb-safe rounded-2xl bg-white/95 backdrop-blur ring-1 ring-black/10 shadow-sm">
        <div class="grid grid-cols-2 divide-x divide-black/10">
          <a
            href="#booking"
            class="py-3 text-center font-semibold"
            data-scroll-method="scrollIntoView"
          >WhatsApp</a>
          <a href="tel:+31653802957" class="py-3 text-center font-semibold">Bel</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="py-10 border-t border-black/5 bg-neutral-50">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4 text-center md:text-left">
      <div class="flex flex-col items-center md:items-start gap-1">
        <p class="text-sm text-black/60">© <span id="year"></span> A.L.F.25 – Amsterdam</p>
        <p class="text-xs text-black/50">© 2025 Varen Light Festival – Alle bedragen zijn exclusief btw</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    // Init Swipers
    const heroSwiper = new Swiper('#hero .swiper', {
      loop: true,
      effect: 'fade',
      speed: 1200,
      fadeEffect: { crossFade: true },
      autoplay: { delay: 2000, disableOnInteraction: false, pauseOnMouseEnter: true },
      pagination: { el: '#hero .swiper-pagination', clickable: true },
      keyboard: { enabled: true }
    });

    (function () {
      const bookingSection = document.getElementById('booking');

      function getStickyOffset() {
        const header = document.querySelector('header');
        const announce = document.getElementById('top-announcement');
        const h = header ? header.getBoundingClientRect().height : 0;
        const a = announce ? announce.getBoundingClientRect().height : 0;
        return h + a + 12; // kleine extra marge
      }

      function setScrollPaddingVar() {
        document.documentElement.style.setProperty('--sticky-header', getStickyOffset() + 'px');
      }
      setScrollPaddingVar();
      window.addEventListener('resize', setScrollPaddingVar);

      function scrollToBookingWithOffset(e) {
        if (!bookingSection) return;
        if (e) e.preventDefault();
        const startY = window.scrollY || window.pageYOffset;
        const targetY = bookingSection.getBoundingClientRect().top + startY - getStickyOffset();
        const duration = 600;
        let start;

        function step(ts) {
          if (!start) start = ts;
          const progress = Math.min((ts - start) / duration, 1);
          const eased = progress < 0.5
            ? 2 * progress * progress
            : 1 - Math.pow(-2 * progress + 2, 2) / 2;
          window.scrollTo(0, startY + (targetY - startY) * eased);
          if (progress < 1) requestAnimationFrame(step);
        }

        requestAnimationFrame(step);
      }

      document
        .querySelectorAll('a[href="#booking"], [data-scroll-method="scrollIntoView"]')
        .forEach((el) => el.addEventListener('click', scrollToBookingWithOffset));
    })();


    const gallerySwiper = new Swiper('#gallery .swiper', {
      loop: true,
      autoplay: { delay: 1500, disableOnInteraction: false },
      slidesPerView: 1,
      spaceBetween: 16,
      breakpoints: { 640:{slidesPerView:2}, 1024:{slidesPerView:3} },
      pagination: { el: '#gallery .swiper-pagination', clickable: true },
      keyboard: { enabled: true }
    });

    // Scroll reveal
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          revealObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('[data-reveal]').forEach((el) => revealObserver.observe(el));

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Booking form -> WhatsApp
    const form = document.getElementById('booking-form');
    const feedback = document.getElementById('form-feedback');
    const peopleInput = document.getElementById('people');
    const dateInput = document.getElementById('date');
    const totalPriceEl = document.getElementById('total-price');
    const pricePerPerson = 59.95;
    const discountInput = document.getElementById('discount');
    let discountActive = false;
    const errorSummary = document.getElementById('form-error-summary');
    const requiredFieldMessages = {
      name: 'Vul je naam in',
      phone: 'Vul een telefoonnummer in',
      people: 'Geef aantal personen op',
      date: 'Kies een datum',
      time: 'Kies een tijdslot'
    };
    const activeErrors = new Set();
    const touchedFields = new Set();
    const defaultFeedbackText = feedback?.textContent || '';
    const defaultFeedbackClass = feedback?.className || '';

    // Geldige kortingscodes
    const discountCodes = {
      'HGH': 0.15,     // 15% korting
      'GRACHTEN10': 0.10,    // 10% korting
      'pouw': 0.15,     // 15% korting
    };
    const minDate = dateInput?.getAttribute('min');
    const maxDate = dateInput?.getAttribute('max');

    function resetFeedback() {
      if (!feedback) return;
      feedback.classList.remove('sr-only');
      feedback.className = defaultFeedbackClass;
      feedback.textContent = defaultFeedbackText;
    }

    function updateErrorSummary() {
      if (!errorSummary) return;
      if (activeErrors.size > 0) {
        errorSummary.classList.remove('hidden');
      } else {
        errorSummary.classList.add('hidden');
      }
    }

    function showFieldError(id, message) {
      const field = document.getElementById(id);
      const hint = form?.querySelector(`[data-error-for="${id}"]`);
      if (!field || !hint) return;
      field.classList.remove('border-black/10');
      field.classList.add('border-red-500', 'bg-red-50');
      field.setAttribute('aria-invalid', 'true');
      if (hint.id) {
        field.setAttribute('aria-describedby', hint.id);
      }
      hint.textContent = message;
      hint.classList.remove('hidden');
      activeErrors.add(id);
      touchedFields.add(id);
      updateErrorSummary();
    }

    function clearFieldError(id) {
      const field = document.getElementById(id);
      const hint = form?.querySelector(`[data-error-for="${id}"]`);
      if (!field || !hint) return;
      field.classList.add('border-black/10');
      field.classList.remove('border-red-500', 'bg-red-50');
      field.removeAttribute('aria-invalid');
      if (hint.id && field.getAttribute('aria-describedby') === hint.id) {
        field.removeAttribute('aria-describedby');
      }
      hint.classList.add('hidden');
      activeErrors.delete(id);
      updateErrorSummary();
    }

    function fieldHasValue(id) {
      const field = document.getElementById(id);
      if (!field) return false;
      if (field.tagName === 'SELECT') {
        return field.value !== '';
      }
      if (field.type === 'date') {
        return field.value !== '';
      }
      return field.value.trim() !== '';
    }

    function handleFieldValidation(id) {
      if (fieldHasValue(id)) {
        clearFieldError(id);
      } else if (activeErrors.has(id) || touchedFields.has(id)) {
        showFieldError(id, requiredFieldMessages[id]);
      }
    }

    function formatCurrency(amount) {
      return amount.toLocaleString('nl-NL', { style: 'currency', currency: 'EUR' });
    }

    function buildMessage(data) {
  const lines = [
    'Boekingsaanvraag Amsterdam light festival',
    `Naam: ${data.name}`,
    `Telefoon: ${data.phone}`,
    `Datum: ${data.date}`,
    `Tijd: ${data.time}`,
    `# Personen: ${data.people}`,
    data.total ? `Totaal: ${formatCurrency(data.total)}` : null,
    data.message ? `Bericht: ${data.message}` : null
  ].filter(Boolean);

  return lines.join('\n\n'); // lege regel ertussen voor extra ruimte
}

    function encode(str) { return encodeURIComponent(str); }

    function openWhatsApp(msg) {
      const waURL = `https://wa.me/31653802957?text=${encode(msg)}`;
      const opened = window.open(waURL, '_blank');
      if (!opened) window.location.href = waURL;
      if (feedback) {
        feedback.classList.remove('sr-only');
        feedback.className = 'mt-3 text-sm text-black/70';
        feedback.textContent = 'WhatsApp geopend? Zo niet: stuur ons direct een appje op +31 6 53 80 29 57.';
      }
    }

    function sanitizePeopleCount(value) {
      const digitsOnly = value.replace(/\D/g, '');
      if (!digitsOnly) return '';

      let numericValue = Number(digitsOnly);
      if (Number.isNaN(numericValue) || numericValue === 0) return '';
      if (numericValue > 11) numericValue = 11;

      return String(numericValue);
    }

    function updatePrice() {
      const count = Number(peopleInput.value);
      if (count > 0) {
        let total = count * pricePerPerson;
        discountActive = false;

        // Check kortingscode (ongeacht hoofdletters)
        const code = discountInput?.value.trim().toUpperCase();
        if (discountCodes[code]) {
          const korting = discountCodes[code];
          total = total * (1 - korting);
          discountActive = true;
          totalPriceEl.innerHTML = `<strong>Totaalprijs: ${formatCurrency(total)}</strong> <span class="text-green-600">(${korting * 100}% korting toegepast)</span>`;
        } else {
          totalPriceEl.textContent = `Totaalprijs: ${formatCurrency(total)}`;
        }
        totalPriceEl.classList.remove('hidden');
      } else {
        totalPriceEl.classList.add('hidden');
      }
    }

    function handlePeopleInput() {
      if (!peopleInput) return;
      const sanitizedValue = sanitizePeopleCount(peopleInput.value);
      if (sanitizedValue !== peopleInput.value) {
        peopleInput.value = sanitizedValue;
      }
      updatePrice();
    }

    peopleInput?.addEventListener('input', handlePeopleInput);
    peopleInput?.addEventListener('blur', handlePeopleInput);
    discountInput?.addEventListener('input', updatePrice);
    if (peopleInput) handlePeopleInput();

    Object.keys(requiredFieldMessages).forEach((fieldId) => {
      const field = document.getElementById(fieldId);
      if (!field) return;
      const handler = () => handleFieldValidation(fieldId);
      field.addEventListener('input', handler);
      field.addEventListener('change', handler);
      field.addEventListener('blur', handler);
    });

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      resetFeedback();
      handlePeopleInput();

      const data = {
        name: document.getElementById('name').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        people: peopleInput.value.trim(),
        date: document.getElementById('date').value,
        time: document.getElementById('time').value,
        message: document.getElementById('message').value.trim()
      };

      let totalPrice = pricePerPerson * Number(data.people || 0);
      const appliedCode = discountInput ? discountInput.value.trim().toUpperCase() : '';
      if (discountCodes[appliedCode]) {
        totalPrice = totalPrice * (1 - discountCodes[appliedCode]);
      }
      data.total = totalPrice;

      let hasErrors = false;
      for (const [fieldId, message] of Object.entries(requiredFieldMessages)) {
        if (!fieldHasValue(fieldId)) {
          showFieldError(fieldId, message);
          hasErrors = true;
        } else {
          clearFieldError(fieldId);
        }
      }

      if (hasErrors) {
        return;
      }

      if (minDate && maxDate && (data.date < minDate || data.date > maxDate)) {
        showFieldError('date', requiredFieldMessages.date);
        if (feedback) {
          feedback.classList.remove('sr-only');
          feedback.className = 'mt-3 text-sm text-red-600';
          feedback.textContent = 'Kies een datum tussen 27 november 2025 en 18 januari 2026.';
        }
        return;
      }

      const msg = buildMessage(data);
      openWhatsApp(msg);
    });
  </script>
</body>
</html>
